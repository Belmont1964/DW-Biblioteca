CREATE TABLE Cliente (
    idCliente INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    nome VARCHAR(50) NOT NULL,
    cpf VARCHAR(11) UNIQUE NOT NULL,
    tel VARCHAR(9),
    ddd VARCHAR(2),
    email VARCHAR(50),
    senha VARCHAR(50)
);

CREATE TABLE Livro (
    idLivro INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    titulo VARCHAR(50) not NULL,
    autor VARCHAR (30) not NULL,
    lugar VARCHAR (8) not NULL default 'c1-p1-e1',
    statusLivro VARCHAR (1),
    cliente int,
    dataEmprestimo DATE,
    dataDevolucao DATE,
    edicao VARCHAR(3),

    CONSTRAINT FK_Cliente FOREIGN KEY(cliente) REFERENCES Cliente (idCliente)
    
);

CREATE TABLE Emprestimo (
    idEmprestimo INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    idCliente INT NOT NULL,
    idLivro INT NOT NULL,
    dataEmp DATE,
    dataDev DATE,
    multa DOUBLE,

    CONSTRAINT fk_emp_cliente
        FOREIGN KEY (idCliente)
        REFERENCES Cliente(idCliente),

    CONSTRAINT fk_emp_livro
        FOREIGN KEY (idLivro)
        REFERENCES Livro(idLivro)
);


